# callback

- å›è°ƒå…¶å®æœ‰å¾ˆå¤šä½œç”¨ï¼Œæ¯”å¦‚æé«˜ä»£ç å¤ç”¨ç‡

## æé«˜å¤ç”¨ç‡

- æˆ‘ä»¬å…ˆä¸¾ä¸ªç®€å•çš„ä¾‹å­

```js
const work = (callback) =>{
    console.log('èµ·åºŠ')
    console.log('ç©¿è¡£æœ')
    console.log('åˆ·ç‰™æ´—è„¸')
    console.log('åƒæ—©é¥­')
    callback && callback() // æœ‰å›è°ƒå°±è°ƒï¼Œæ²¡æœ‰å°±ä¸æ‰§è¡Œ
    console.log('å¼€å§‹å·¥ä½œ')
}
const byBike = () =>{
    console.log('ä»Šå¤©éª‘è½¦å»ä¸Šç­ï¼')
}
const byBus = () =>{
    console.log('ä»Šå¤©åå·´å£«ä¸Šç­ï¼')
}
work(byBike)    
// å°æ˜çš„æ–¹å¼
// èµ·åºŠ ç©¿è¡£æœ åˆ·ç‰™æ´—è„¸ åƒæ—©é¥­ ä»Šå¤©éª‘è½¦å»ä¸Šç­ï¼ å¼€å§‹å·¥ä½œ
```

- æ‹¿åˆšåˆšè¿™ä¸ªä¸ä¸¥è°¨çš„æ¡ˆä¾‹ï¼ˆæœ‰äººå¯èƒ½ä¸åˆ·ç‰™ğŸ¤ªï¼Œä¸åƒé¥­ï¼‰
- æˆ‘ä»¬æŠŠé€šç”¨çš„ä»£ç æ”¾åœ¨ä¸€èµ·ï¼Œä¸ä¸€æ ·çš„åœ°æ–¹å°±ç”¨å›è°ƒå‡½æ•°ï¼Œè¿™æ ·å°±èƒ½æé«˜ä»£ç å¤ç”¨ç‡

## å›è°ƒ1(é¡ºåºæ‰§è¡Œ)

```js
const a = () =>{
    setTimeout(() =>{
        console.log('aæ‰§è¡Œå®Œäº†!æ‰èƒ½æ‰§è¡Œbï¼')
    },1000)
    
}
const b = () =>{
    console.log('å¼€å§‹æ‰§è¡Œb')
}
a()
b()
// å‡å¦‚aæ‰§è¡Œå¾ˆä¹…ï¼Œæ‰“å°é¡ºåº å¼€å§‹æ‰§è¡Œb  aæ‰§è¡Œå®Œäº†!æ‰èƒ½æ‰§è¡Œbï¼
// è¿™å’Œæˆ‘ä»¬é¢„æœŸæ˜¯ä¸ä¸€è‡´çš„
```
- æŠŠå‡½æ•°å½“ä½œå‚æ•°è½¬åˆ°å¦å¤–ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå½“éœ€è¦ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå†å›è°ƒè¿è¡Œè¿™ä¸ªå‡½æ•°
```js
const a = (callback) =>{
    setTimeout(() =>{
        console.log('aæ‰§è¡Œå®Œäº†!æ‰èƒ½æ‰§è¡Œbï¼')
        // è¿™é‡Œå…¶å®è¿˜è¦åœ¨æ‰§è¡Œå‰æœ€å¥½åˆ¤æ–­ä¸€ä¸‹å®ƒæ˜¯ä¸æ˜¯ä¸€ä¸ªå‡½æ•°  typeof callback === 'function'
        callback && callback()
    },1000)
    
}
const b = () =>{
    console.log('å¼€å§‹æ‰§è¡Œb')
}
a(b)
// æ‰“å°é¡ºåº aæ‰§è¡Œå®Œäº†!æ‰èƒ½æ‰§è¡Œbï¼ å¼€å§‹æ‰§è¡Œb  
```

## å›è°ƒ2
```js
// å‡å¦‚è¿æ¥ä¸€å°è®¾å¤‡ï¼Œè°ƒç”¨è¿æ¥æ–¹æ³•ï¼Œåœ¨ä¸åŒçš„çŠ¶æ€å®ƒä¼šè¿”å›ç»™è°ƒç”¨è€…ä¸€æ¡æ¶ˆæ¯
// è°ƒç”¨è€…èƒ½å®æ—¶çŸ¥é“å®ƒçš„è¿æ¥çŠ¶æ€ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®è¿”å›çš„ä¸åŒçŠ¶æ€èµ°ä¸åŒçš„å¤„ç†æ–¹æ³•
const connect = (callback) =>{
    //å‡è®¾æœ‰è¯†åˆ«ç¨‹åºï¼Œè¯†åˆ«åˆ°è®¾å¤‡ï¼Œå¹¶è°ƒç”¨ä¸‹é¢çš„å›è°ƒ
    callback(1,'å·²è¯†åˆ«åˆ°è®¾å¤‡')
    // æœªè¯†åˆ«åˆ°è®¾å¤‡
    callback(0,'æœªè¯†åˆ«åˆ°è®¾å¤‡')
    // æ­£åœ¨è¿æ¥è®¾å¤‡
    callback(2,'æ­£åœ¨è¿æ¥è®¾å¤‡')
    // è®¾å¤‡è¿æ¥æˆåŠŸ
    callback(3,'è®¾å¤‡è¿æ¥æˆåŠŸ')
    // è®¾å¤‡è¿æ¥å¤±è´¥
    callback(0,'è®¾å¤‡è¿æ¥å¤±è´¥')
}

const apply =  () =>{
    connect((type, msg)=>{
        if(type === 0){
            console.log('å¤±è´¥ï¼š'+ msg)
        }
        else{
            console.log('å½“å‰æ­¥éª¤' + type + ':' + msg)
        }
    })
}
```