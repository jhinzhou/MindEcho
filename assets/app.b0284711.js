import{d as D,C as f,_ as k,o as d,c as h,a as ae,f as r,y as ce,z as C,a1 as re,K as le,F as ie,n as g,x as i,t as E,a2 as ue,a3 as J,u as X,s as de,e as p,w as z,h as G,i as me,a4 as pe,r as b,A as fe,T as S,a5 as F,a6 as L,Z as ve,I as A,a7 as he,l as _e,a8 as ge,a9 as ye,aa as we,ab as xe,ac as Ce,ad as be,ae as ke,af as $e,ag as Se,ah as Be,ai as Ee,aj as Ae,ak as Te}from"./chunks/framework.6a47aca6.js";import{t as De}from"./chunks/theme.e29ae7da.js";const Re={size:{type:String,default:"medium"},color:{type:String,default:"blue"},round:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},icon:{type:String,default:""}},N=D({name:"SButton",props:Re,setup(e,{slots:t}){const o={small:{x:"2",y:"1",text:"sm"},medium:{x:"3",y:"1.5",text:"base"},large:{x:"4",y:"2",text:"lg"}};return()=>f("button",{class:`
          py-${o[e.size].y}
          px-${o[e.size].x}
          ${e.round?"rounded-full":"rounded-lg"}
          bg-${e.color}-${e.plain?"100":"500"}
          hover:bg-${e.color}-400
          border-${e.color}-${e.plain,"500"}
          cursor-pointer
          border-solid
          text-${e.plain?e.color+"-500":"white"}
          text-${o[e.size].text}
          hover:text-white
          transition duration-300 ease-in-out transform hover:scale-105
          mx-1
          `},[e.icon!==""?f("i",{class:`i-ic-baseline-${e.icon} p-3`},null):"",t.default?t.default():""])}}),He={name:"SFCButton"};function Ie(e,t,o,n,s,a){return d(),h("button",null,"SFC Button")}const V=k(He,[["render",Ie]]),O=D({name:"JSXButton",render(){return f("button",null,[ae("JSX Button")])}}),Pe={install(e){e.component(N.name,N),e.component(V.name,V),e.component(O.name,O)}};function Me(e,t){let o=null,n=new Date;return function(){const s=this,a=arguments,m=t-(new Date-n);clearTimeout(o),m<=0?(e.apply(s,a),n=new Date):o=setTimeout(function(){e.apply(s,a)},m)}}function R(){return new DOMException("The request is not allowed","NotAllowedError")}async function ze(e){if(!navigator.clipboard)throw R();return navigator.clipboard.writeText(e)}async function Fe(e){const t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);const o=window.getSelection(),n=window.document.createRange();o.removeAllRanges(),n.selectNode(t),o.addRange(n);let s=!1;try{s=window.document.execCommand("copy")}finally{o.removeAllRanges(),window.document.body.removeChild(t)}if(!s)throw R()}async function Le(e){try{await ze(e)}catch(t){try{await Fe(e)}catch(o){throw o||t||R()}}}let Ne=0;function Ve(){return"message_"+Ne++}const Oe={setup(){const e=r([]);function t(n){const s=Ve(),a={name:s,...n};e.value.push(a);const c=n.duration;setTimeout(()=>{o(s)},c*1e3)}function o(n){for(const[s,a]of e.value.entries())if(a.name===n){e.value.splice(s,1);break}}return{messages:e,add:t,remove:o}}},Ue={class:"demoblock-message-content"};function je(e,t,o,n,s,a){return d(),ce(re,{name:"demoblock-fade",tag:"div",class:"demoblock-message-wrap"},{default:C(()=>[(d(!0),h(ie,null,le(n.messages,c=>(d(),h("div",{key:c.name,class:g(["demoblock-message",c.type?`demoblock-message-${c.type}`:""])},[i("div",Ue,E(c.content),1)],2))),128))]),_:1})}const T=k(Oe,[["render",je],["__scopeId","data-v-1d706594"]]);T.newInstance=(e={})=>{const t=document.createElement("div"),s=ue({render(){return J(T,{...e,ref:"messageRef"})}}).mount(t).$refs.messageRef;return document.body.appendChild(t.firstElementChild),{add(a){s.add(a)},remove(a){s.remove(a)}}};let B;function Je(){return B=B||T.newInstance(),B}function U(e,{duration:t=3,type:o=""}){Je().add({content:e,duration:t,type:o})}const j={info(e,t){return U(e,{...t})},error(e,t){return U(e,{...t,type:"error"})}};const Xe={name:"Demo",props:{customClass:String,sourceCode:String},setup(e){const t=r(!1),o=r(!1),n=r(!1),s=r(!1),a=X(),c=de(),m=r(c.path.split("/")),K=p(()=>m.value[m.value.length-1].split(".")[0]);z(()=>c.path,l=>{m.value=l.split("/")});const W=()=>{n.value=!n.value,t.value=n.value},Z=p(()=>`demo-${K.value}`),u=p(()=>{var l;return((l=a.theme.value.demoblock)==null?void 0:l[a.localePath.value])??{"hide-text":"隐藏代码","show-text":"显示代码","copy-button-text":"复制代码片段","copy-success-text":"复制成功"}}),Q=p(()=>s.value?u.value["copy-success-text"]:u.value["copy-button-text"]),Y=p(()=>n.value?u.value["hide-text"]:u.value["show-text"]),y=r(null),w=r(null),$=r(null),_=r(null),H=r(null),ee=p(()=>w.value?w.value.clientHeight+y.value.clientHeight+20:y.value.clientHeight),I=()=>{const{top:l,bottom:ne,left:oe}=$.value.getBoundingClientRect(),M=window.innerHeight||document.body.clientHeight;o.value=ne>M&&l+44<=M,_.value.style.left=o.value?`${oe}px`:"0";const se=o.value?1:2;_.value.style.width=`${H.value.offsetWidth-se}px`},x=Me(I,200),P=()=>{window.removeEventListener("scroll",x),window.removeEventListener("resize",x)},te=async()=>{try{await Le(e.sourceCode),j.info(u.value["copy-success-text"])}catch{j.error(u.value["copy-success-text"])}};return z(n,l=>{if($.value.style.height=l?`${ee.value+1}px`:"0",!l){o.value=!1,_.value.style.left="0",_.value.style.width="auto",P();return}setTimeout(()=>{window.addEventListener("scroll",x),window.addEventListener("resize",x),I()},300)}),G(()=>{me(()=>{w.value||(y.value.style.width="100%")})}),pe(()=>{P()}),{blockClass:Z,hover:t,fixedControl:o,isExpanded:n,locale:u,controlText:Y,onClickControl:W,copyText:Q,highlight:y,description:w,meta:$,control:_,onCopy:te,demoBlock:H}}},Ge={class:"source"},qe={ref:"meta",class:"meta"},Ke={key:0,ref:"description",class:"description"},We={ref:"highlight",class:"highlight"},Ze={class:"control-button-wrap"};function Qe(e,t,o,n,s,a){return d(),h("div",{ref:"demoBlock",class:g(["demo-block",n.blockClass,o.customClass?o.customClass:"",{hover:n.hover}]),onMouseenter:t[2]||(t[2]=c=>n.hover=!0),onMouseleave:t[3]||(t[3]=c=>n.hover=!1)},[i("div",Ge,[b(e.$slots,"default",{},void 0,!0)]),i("div",qe,[e.$slots.description?(d(),h("div",Ke,[b(e.$slots,"description",{},void 0,!0)],512)):fe("",!0),i("div",We,[b(e.$slots,"highlight",{},void 0,!0)],512)],512),i("div",{ref:"control",class:g(["demo-block-control",{"is-fixed":n.fixedControl}]),onClick:t[1]||(t[1]=(...c)=>n.onClickControl&&n.onClickControl(...c))},[f(S,{name:"arrow-slide"},{default:C(()=>[i("i",{class:g(["control-icon",{"icon-caret-down":!n.isExpanded,"icon-caret-up":n.isExpanded,hovering:n.hover}])},null,2)]),_:1}),f(S,{name:"text-slide"},{default:C(()=>[F(i("span",{class:"control-text"},E(n.controlText),513),[[L,n.hover]])]),_:1}),i("div",Ze,[f(S,{name:"text-slide"},{default:C(()=>[F(i("span",{class:"control-button copy-button",onClick:t[0]||(t[0]=ve((...c)=>n.onCopy&&n.onCopy(...c),["stop"]))},E(n.copyText),513),[[L,n.isExpanded]])]),_:1})])],2)],34)}const Ye=k(Xe,[["render",Qe],["__scopeId","data-v-e5bd172c"]]);const et={name:"DemoBlock",props:{customClass:String}},tt={class:"source"};function nt(e,t,o,n,s,a){return d(),h("div",{class:g(["demo-block",[o.customClass?o.customClass:""]])},[i("div",tt,[b(e.$slots,"default",{},void 0,!0)])],2)}const ot=k(et,[["render",nt],["__scopeId","data-v-d840c98f"]]);const st={...De,enhanceApp({app:e}){e.use(Pe),e.component("Demo",Ye),e.component("DemoBlock",ot)}};function q(e){if(e.extends){const t=q(e.extends);return{...t,...e,async enhanceApp(o){t.enhanceApp&&await t.enhanceApp(o),e.enhanceApp&&await e.enhanceApp(o)}}}return e}const v=q(st),at=D({name:"VitePressApp",setup(){const{site:e}=X();return G(()=>{_e(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),ge(),ye(),we(),v.setup&&v.setup(),()=>J(v.Layout)}});async function ct(){const e=lt(),t=rt();t.provide(xe,e);const o=Ce(e.route);return t.provide(be,o),t.component("Content",ke),t.component("ClientOnly",$e),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return o.frontmatter.value}},$params:{get(){return o.page.value.params}}}),v.enhanceApp&&await v.enhanceApp({app:t,router:e,siteData:Se}),{app:t,router:e,data:o}}function rt(){return Be(at)}function lt(){let e=A,t;return Ee(o=>{let n=Ae(o);return e&&(t=n),(e||t===n)&&(n=n.replace(/\.js$/,".lean.js")),A&&(e=!1),Te(()=>import(n),[])},v.NotFound)}A&&ct().then(({app:e,router:t,data:o})=>{t.go().then(()=>{he(t.route,o.site),e.mount("#app")})});export{ct as createApp};
